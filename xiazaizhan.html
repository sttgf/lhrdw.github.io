<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LHR‰∏ãËΩΩÁ´ô</title>
    <style>
        :root {
            --bg: #f5f5f5;
            --text: #333;
            --surface: #ffffff;
            --accent: #2563eb;
            --radius: 8px;
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --bg: #1e1e1e;
            --text: #eaeaea;
            --surface: #2d2d2d;
            --accent: #4f94ff;
        }

        body {
            font-family: 'Segoe UI', system-ui;
            background: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            transition: var(--transition);
        }

        /* È°µÈù¢Â§¥ÈÉ® */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .site-title {
            font-size: 2rem;
            font-weight: 600;
            color: var(--accent);
        }

        /* ÂàÜÁ±ªÂØºËà™ */
        .category-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .category-btn {
            padding: 8px 16px;
            border-radius: 20px;
            background: var(--surface);
            border: 1px solid #767676;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .category-btn.active {
            background: var(--accent);
            color: white;
            border-color: transparent;
        }

        /* Âä®ÊÄÅÂÖ¨Âëä */
        .ann-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .ann-button.expanded {
            transform: scale(1.2);
            width: 200px;
            height: 120px;
            border-radius: 12px;
            flex-direction: flex-start;
            padding: 15px;
            font-size: 0.9rem;
            text-align: left;
            flex-wrap: wrap;
        }

        .ann-content {
            display: none;
            font-size: 0.85rem;
            margin-top: 5px;
        }

        .close-hint {
            display: none;
            font-size: 0.7rem;
            color: rgba(255,255,255,0.8);
            margin-top: 8px;
        }

        .ann-button.expanded .ann-content,
        .ann-button.expanded .close-hint {
            display: block;
        }

        /* Êñá‰ª∂Âç°Áâá */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .file-card {
            background: var(--surface);
            padding: 20px;
            border-radius: var(--radius);
            transition: var(--transition);
        }

        .file-card:hover {
            transform: translateY(-5px);
        }

        .download-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: var(--radius);
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
            transition: var(--transition);
        }

        .download-btn:hover {
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <!-- Â§¥ÈÉ® -->
    <div class="header">
        <h1 class="site-title">LHR‰∏ãËΩΩÁ´ô</h1>
        <button onclick="toggleTheme()" style="margin-left:10px;background:none;border:none;cursor:pointer;font-size:1.2rem">üåì</button>
    </div>

    <!-- ÂàÜÁ±ªÂØºËà™ -->
    <div class="category-nav" id="categoryNav"></div>

    <!-- Êñá‰ª∂ÂàóË°® -->
    <div class="card-grid" id="fileList"></div>

    <!-- Âä®ÊÄÅÂÖ¨Âëä -->
    <div class="ann-button" id="annButton">
        <span id="annLabel">ÂÖ¨Âëä</span>
        <div class="ann-content" id="annContent"></div>
        <div class="close-hint">ÁÇπÂáªÁ©∫ÁôΩÂ§ÑÂÖ≥Èó≠</div>
    </div>

    <script>
        // ÈÖçÁΩÆÊñá‰ª∂Ôºà‰ªÖÈúÄ‰øÆÊîπÊ≠§Â§ÑÂç≥ÂèØÁÆ°ÁêÜÂÜÖÂÆπÔºâ
        const CONFIG = {
            announcements: [
                "üìå Á≥ªÁªüÁª¥Êä§Ôºö‰∏çÂÆöÊó∂Êõ¥Êñ∞",
                "üéâ 2025/5/24Êñ∞Â¢û Êó†",
                " ‚¨áÔ∏è LHR‰∏ãËΩΩÁ´ô Ëá¥ÂäõÂÅöÊõ¥Â•ΩÁöÑ‰∏ãËΩΩÁ´ô"
            ],
            files: [
                {
                    name: "windowsÊøÄÊ¥ªÂ∑•ÂÖ∑(‰∏≠ÊñáÂºÄÂèë‰∏≠...)",
                    category: "windowsÂ∑•ÂÖ∑",
                    filename: "ÊøÄÊ¥ªÂ∑•ÂÖ∑.zip",
                    size: "269KB"
                },
                {
                    name: "ÂçóÂ±±ÂØπËÆ≤",
                    category: "ÂÆûÁî®Â∑•ÂÖ∑",
                    filename: "nsptt.zip",
                    size: "7794KB"
                },
                {
                    name: "geek",
                    category: "ÂÆûÁî®Â∑•ÂÖ∑",
                    filename: "geek.zip",
                    size: "2990KB"
                },
                {
                    name: "Win11ËΩªÊùæËÆæÁΩÆ(Ê≤°ÊúâÊïôÁ®ã)",
                    category: "windowsÂ∑•ÂÖ∑",
                    filename: "Windows11ËΩªÊùæËÆæÁΩÆ.zip",
                    size: "297KB"
                },
                {
                    name: "winrarx32",
                    category: "ÂÆûÁî®Â∑•ÂÖ∑",
                    filename: "winrarx32.zip",
                    size: "3323KB"
                },
                {
                    name: "winrarx64",
                    category: "ÂÆûÁî®Â∑•ÂÖ∑",
                    filename: "winrarx64.zip",
                    size: "3509KB"
                }
            ]
        };

        // ÂàùÂßãÂåñÂÖ•Âè£
        function init() {
            generateCategories();
            renderFiles();
            initAnnouncement();
        }

        // ÁîüÊàêÂàÜÁ±ªÊåâÈíÆ
        function generateCategories() {
            const nav = document.getElementById('categoryNav');
            
            // Ëé∑ÂèñÊâÄÊúâÂîØ‰∏ÄÂàÜÁ±ª
            const categories = ['ÂÖ®ÈÉ®', ...new Set(CONFIG.files.map(f => f.category))];
            
            // ÂàõÂª∫ÊåâÈíÆÂÖÉÁ¥†
            nav.innerHTML = categories.map(cat => `
                <button class="category-btn">${cat}</button>
            `).join('');
            
            // Ê∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', () => filterFiles(btn.textContent));
            });
            
            // ÈªòËÆ§ÊøÄÊ¥ªÁ¨¨‰∏Ä‰∏™ÊåâÈíÆ
            nav.querySelector('.category-btn').classList.add('active');
        }

        // ËøáÊª§Êñá‰ª∂
        function filterFiles(category) {
            document.querySelectorAll('.category-btn').forEach(btn => 
                btn.classList.remove('active'));
            event.target.classList.add('active');

            document.querySelectorAll('.file-card').forEach(card => {
                const cat = card.dataset.category;
                card.style.display = (category === 'ÂÖ®ÈÉ®' || cat === category) ? 'block' : 'none';
            });
        }

        // Ê∏≤ÊüìÊñá‰ª∂
        function renderFiles() {
            const container = document.getElementById('fileList');
            container.innerHTML = CONFIG.files.map(file => `
                <div class="file-card" data-category="${file.category}">
                    <h3>${file.name}</h3>
                    <p>Â§ßÂ∞è: ${file.size}</p>
                    <button class="download-btn" 
                            onclick="handleDownload('${file.filename}')">
                        ‚¨áÔ∏è ‰∏ãËΩΩ
                    </button>
                </div>
            `).join('');
        }

        // ‰∏ãËΩΩÂ§ÑÁêÜ
        function handleDownload(filename) {
            const showTutorial = confirm('ÊòØÂê¶ÂÖàÊü•ÁúãÊïôÁ®ãÂÜç‰∏ãËΩΩÔºü\nÁÇπÂáª"Á°ÆÂÆö"Êü•ÁúãÊïôÁ®ã\nÁÇπÂáª"ÂèñÊ∂à"Áõ¥Êé•‰∏ãËΩΩ');
            
            if (showTutorial) {
                // ÊïôÁ®ãË∑ØÂæÑÔºöjiaocheng/[Êñá‰ª∂Âêç].html
                window.open(`jiaocheng/${filename.split('.')[0]}.html`, '_blank');
            } else {
                // Êñá‰ª∂Ë∑ØÂæÑÔºöfiles/[Êñá‰ª∂Âêç.Êâ©Â±ïÂêç]
                const link = document.createElement('a');
                link.href = `files/${filename}`;
                link.download = filename;
                link.click();
            }
        }

        // ÂÖ¨ÂëäÁ≥ªÁªüÂàùÂßãÂåñ
        function initAnnouncement() {
            const annBtn = document.getElementById('annButton');
            const annContent = document.getElementById('annContent');
            
            // ËÆæÁΩÆÂÖ¨ÂëäÂÜÖÂÆπ
            annContent.innerHTML = CONFIG.announcements.map(msg => `<p>${msg}</p>`).join('');
            
            // ÂàáÊç¢ÂÖ¨ÂëäÁä∂ÊÄÅ
            annBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                annBtn.classList.toggle('expanded');
                document.getElementById('annLabel').style.display = 
                    annBtn.classList.contains('expanded') ? 'none' : 'inline';
            });
        }

        // ÁÇπÂáªÂ§ñÈÉ®Âå∫ÂüüÂÖ≥Èó≠ÂÖ¨Âëä
        document.addEventListener('click', (e) => {
            const annBtn = document.getElementById('annButton');
            if (annBtn.classList.contains('expanded') && !annBtn.contains(e.target)) {
                annBtn.classList.remove('expanded');
                document.getElementById('annLabel').style.display = 'inline';
            }
        });

        // ‰∏ªÈ¢òÂàáÊç¢
        function toggleTheme() {
            document.body.setAttribute('data-theme',
                document.body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'
            );
        }

        window.onload = init;
    </script>
</body>
</html>